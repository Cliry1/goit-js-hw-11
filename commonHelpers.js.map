{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst form = document.querySelector(\".form\");\nconst ul = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nvar lightbox = new SimpleLightbox('.gallery a', {   \n  captionsData: 'alt',\n  captionDelay: 250, }); \nform.addEventListener(\"submit\", createListItem)\n\n\nfunction createListItem(event){\n  event.preventDefault();\n  ul.innerHTML = \"\";\n  const itemParam = new URLSearchParams({\n    key:\"41728524-9ad3c3555a09648a5caa6ae20\",\n    q:form.item.value.trim(),\n    image_type : \"photo\",\n    orientation :\"horizontal\",\n    safesearch : true\n  });\n  loader.classList.remove(\"search\");\n  fetch(`https://pixabay.com/api/?${itemParam}`)\n  .then((response) => {\n    if (!response.ok) {\n      throw new Error(\"Request error\");\n    }\n    return response.json();\n  })\n  .then(result => {\n    if (result.hits.length === 0) {\n      iziToast.error({\n        title: 'No result',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position:\"topRight\"\n      });\n    }\n    console.log(result);\n    const markup = result.hits.reduce((acc, elem)=>\n      acc + `<li class=\"element\"><a href=\"${elem.largeImageURL}\"><img class=\"image\" src=\"${elem.webformatURL}\"  alt=\"${elem.tags}\"></a>\n      <div class=\"container-stat\">\n      <p class=\"stat\">Likes <span class=\"stat-value\">${elem.likes}</span></p>\n      <p class=\"stat\">Views <span class=\"stat-value\">${elem.views}</span></p>\n      <p class=\"stat\">Comments <span class=\"stat-value\">${elem.comments}</span></p>\n      <p class=\"stat\">Downloads <span class=\"stat-value\">${elem.downloads}</span></p>\n      </div></li>`, \"\")\n\n    ul.insertAdjacentHTML(\"beforeend\", markup);\n    lightbox.refresh();\n  })\n  .catch(error => console.log(error))\n  .finally(()=>{\n    loader.classList.add('search');\n    form.reset();\n  });\n}"],"names":["form","ul","loader","lightbox","SimpleLightbox","createListItem","event","itemParam","response","result","iziToast","markup","acc","elem","error"],"mappings":"6vBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAK,SAAS,cAAc,UAAU,EACtCC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAAG,CAAG,EACtBJ,EAAK,iBAAiB,SAAUK,CAAc,EAG9C,SAASA,EAAeC,EAAM,CAC5BA,EAAM,eAAc,EACpBL,EAAG,UAAY,GACf,MAAMM,EAAY,IAAI,gBAAgB,CACpC,IAAI,qCACJ,EAAEP,EAAK,KAAK,MAAM,KAAM,EACxB,WAAa,QACb,YAAa,aACb,WAAa,EACjB,CAAG,EACDE,EAAO,UAAU,OAAO,QAAQ,EAChC,MAAM,4BAA4BK,GAAW,EAC5C,KAAMC,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,eAAe,EAEjC,OAAOA,EAAS,MACpB,CAAG,EACA,KAAKC,GAAU,CACVA,EAAO,KAAK,SAAW,GACzBC,EAAS,MAAM,CACb,MAAO,YACP,QACE,2EACF,SAAS,UACjB,CAAO,EAEH,QAAQ,IAAID,CAAM,EAClB,MAAME,EAASF,EAAO,KAAK,OAAO,CAACG,EAAKC,IACtCD,EAAM,gCAAgCC,EAAK,0CAA0CA,EAAK,uBAAuBA,EAAK;AAAA;AAAA,uDAErEA,EAAK;AAAA,uDACLA,EAAK;AAAA,0DACFA,EAAK;AAAA,2DACJA,EAAK;AAAA,mBAC5C,EAAE,EAElBZ,EAAG,mBAAmB,YAAaU,CAAM,EACzCR,EAAS,QAAO,CACpB,CAAG,EACA,MAAMW,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAI,CACXZ,EAAO,UAAU,IAAI,QAAQ,EAC7BF,EAAK,MAAK,CACd,CAAG,CACH"}